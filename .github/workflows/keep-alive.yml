# 워크플로우의 이름
name: Keep Render Service Awake

on:
  schedule:
    # 5분마다 작업을 실행합니다.
    # cron 문법: '분 시 일 월 요일'
    - cron: '*/5 * * * *'
  
  # GitHub Actions 탭에서 수동으로 이 워크플로우를 실행할 수 있게 함 (테스트용)
  workflow_dispatch:

jobs:
  # 'ping'이라는 이름의 작업 정의
  ping:
    # 이 작업은 최신 Ubuntu 환경에서 실행됨
    runs-on: ubuntu-latest

    steps:
      # 작업 단계
      - name: Ping Render Service
        # curl 명령어를 사용해 지정된 URL로 HTTP GET 요청을 보냄
        # -s (silent): 진행률 표시줄을 숨김
        # -f (fail): 서버 에러(4xx, 5xx) 발생 시 액션을 '실패'로 처리
        run: curl -s "https://lyricssync-server.onrender.com"